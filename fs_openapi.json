{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/api/fs"}],"paths":{"/{user_id}":{"put":{"summary":"Write","description":"Writes a file as given user_id\nReturns the file id.\nRequires authorization as given user or admin \n(in the form of HTTP Header Authorization: Bearer INSERT_TOKEN)","operationId":"write__user_id__put","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_write__user_id__put"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageWithid"},"id":"file_id","message":"OK"}}},"413":{"description":"Not enough space available"},"500":{"description":"Server error when creating file"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/{user_id}/list":{"get":{"summary":"Lst","description":"Lists a given user's files\nRequires authorization as given user or admin","operationId":"lst__user_id__list_get","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageWithList"},"lst":[{"id":0,"name":"example.txt","owner":"1234-5678-9101-1121","size":10}],"message":"OK"}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/{user_id}/delete":{"delete":{"summary":"Delete All","description":"Deletes all a users files\nRequires authorization as given user or admin","operationId":"delete_all__user_id__delete_delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"},"message":"OK"}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/{user_id}/{item_id}":{"get":{"summary":"Read","description":"Returns a file from a user\nRequires authorization as given user or admin","operationId":"read__user_id___item_id__get","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"},{"required":true,"schema":{"title":"Item Id","type":"integer"},"name":"item_id","in":"path"}],"responses":{"200":{"description":"Return the file.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Item"}},"text/plain":{}}},"410":{"description":"File not found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]},"delete":{"summary":"Delete","description":"Deletes a user's file\nRequires authorization as given user or admin","operationId":"delete__user_id___item_id__delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"},{"required":true,"schema":{"title":"Item Id","type":"integer"},"name":"item_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"},"message":"OK"}}},"410":{"description":"File not found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]},"patch":{"summary":"Update","description":"Updates a user's file\nRequires authorization as given user or admin","operationId":"update__user_id___item_id__patch","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"},{"required":true,"schema":{"title":"Item Id","type":"integer"},"name":"item_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update__user_id___item_id__patch"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"},"message":"OK"}}},"410":{"description":"File not found."},"413":{"description":"Not enough space available"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}}},"components":{"schemas":{"Body_update__user_id___item_id__patch":{"title":"Body_update__user_id___item_id__patch","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"}}},"Body_write__user_id__put":{"title":"Body_write__user_id__put","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Item":{"title":"Item","required":["id","value"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"value":{"title":"Value","type":"string"}}},"ItemList":{"title":"ItemList","required":["id","name","owner","size"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"name":{"title":"Name","type":"string"},"owner":{"title":"Owner","type":"string"},"size":{"title":"Size","type":"integer"}}},"Message":{"title":"Message","required":["message"],"type":"object","properties":{"message":{"title":"Message","type":"string"}}},"MessageWithList":{"title":"MessageWithList","required":["message","lst"],"type":"object","properties":{"message":{"title":"Message","type":"string"},"lst":{"title":"Lst","type":"array","items":{"$ref":"#/components/schemas/ItemList"}}}},"MessageWithid":{"title":"MessageWithid","required":["message","id"],"type":"object","properties":{"message":{"title":"Message","type":"string"},"id":{"title":"Id","type":"integer"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"}}}}