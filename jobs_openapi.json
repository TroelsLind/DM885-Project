{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/api/jobs"}],"paths":{"/job/{job_id}":{"get":{"summary":"Get Job","operationId":"get_job_job__job_id__get","parameters":[{"required":true,"schema":{"title":"Job Id","type":"string"},"name":"job_id","in":"path"}],"responses":{"200":{"description":"Job with given job_id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"404":{"description":"The job was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]},"delete":{"summary":"Delete Job","operationId":"delete_job_job__job_id__delete","parameters":[{"required":true,"schema":{"title":"Job Id","type":"string"},"name":"job_id","in":"path"}],"responses":{"200":{"description":"Deletes the job","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"404":{"description":"The job was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}},"/job/{job_id}/solvers":{"get":{"summary":"Get Solvers From Job","operationId":"get_solvers_from_job_job__job_id__solvers_get","parameters":[{"required":true,"schema":{"title":"Job Id","type":"string"},"name":"job_id","in":"path"}],"responses":{"200":{"description":"List of solvers belonging to the job with the given job_id","content":{"application/json":{"schema":{"title":"Response 200 Get Solvers From Job Job  Job Id  Solvers Get","type":"array","items":{"$ref":"#/components/schemas/SolverInstance"}}}}},"404":{"description":"The job was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}},"/{user_id}/jobs":{"delete":{"summary":"Delete All Jobs","operationId":"delete_all_jobs__user_id__jobs_delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Deletes all of jobs belonging to the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"404":{"description":"The user was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}},"/job/{job_id}/{solver_id}":{"delete":{"summary":"Stop Solver","operationId":"stop_solver_job__job_id___solver_id__delete","parameters":[{"required":true,"schema":{"title":"Job Id","type":"string"},"name":"job_id","in":"path"},{"required":true,"schema":{"title":"Solver Id","type":"string"},"name":"solver_id","in":"path"}],"responses":{"200":{"description":"Stops the given solver from the given job","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"404":{"description":"The job or solver was not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}},"/{user_id}/job":{"get":{"summary":"List Users Jobs","operationId":"list_users_jobs__user_id__job_get","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"List of jobs belonging to the user with the given user_id","content":{"application/json":{"schema":{"title":"Response 200 List Users Jobs  User Id  Job Get","type":"array","items":{"$ref":"#/components/schemas/Job"}}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}},"/job":{"post":{"summary":"Start Job","operationId":"start_job_job_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJob"}}},"required":true},"responses":{"200":{"description":"Returns the newly created job","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"404":{"description":"One of the specified solvers or files do not exist in the system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"401":{"description":"User is not authorized to perform this action (due to not being admin, or not having enough available resources, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Detail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]},{"JWTBearer":[]}]}}},"components":{"schemas":{"CreateJob":{"title":"CreateJob","required":["mzn_id","solver_list"],"type":"object","properties":{"mzn_id":{"title":"Mzn Id","type":"integer"},"dzn_id":{"title":"Dzn Id","type":"integer"},"timeout":{"title":"Timeout","type":"integer","default":60},"solver_list":{"title":"Solver List","type":"array","items":{"$ref":"#/components/schemas/Solver"}}},"example":{"mzn_id":1,"timeout":120,"solver_list":[{"id":"213c7f36-dad8-4316-aaac-1a43a4f9062c","name":"Good Solver","vcpus":200,"ram":512,"timeout":120},{"id":"f54aa3f0-85fd-46e5-afd3-b0d534b4ae44","name":"Another Good Solver","vcpus":200,"ram":512,"timeout":120}]}},"Detail":{"title":"Detail","type":"object","properties":{"detail":{"title":"Detail","type":"string","default":"error message"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Job":{"title":"Job","required":["mzn_id","id","user_id","result","winning_solver","status","compute_time"],"type":"object","properties":{"mzn_id":{"title":"Mzn Id","type":"integer"},"dzn_id":{"title":"Dzn Id","type":"integer"},"timeout":{"title":"Timeout","type":"integer","default":60},"id":{"title":"Id","type":"string"},"user_id":{"title":"User Id","type":"string"},"result":{"title":"Result","type":"string"},"winning_solver":{"title":"Winning Solver","type":"string"},"status":{"title":"Status","type":"string"},"compute_time":{"title":"Compute Time","type":"integer"},"solver_instances":{"title":"Solver Instances","type":"array","items":{"$ref":"#/components/schemas/SolverInstance"},"default":[]}}},"Solver":{"title":"Solver","required":["name","id"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"id":{"title":"Id","type":"string"},"image":{"title":"Image","type":"string"},"vcpus":{"title":"Vcpus","type":"integer","default":200},"timeout":{"title":"Timeout","type":"integer","default":180},"ram":{"title":"Ram","type":"integer","default":1024}}},"SolverInstance":{"title":"SolverInstance","required":["id","status","name","result","job_id"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"status":{"title":"Status","type":"string"},"name":{"title":"Name","type":"string"},"result":{"title":"Result","type":"string"},"timeout":{"title":"Timeout","type":"integer","default":60},"vcpus":{"title":"Vcpus","type":"integer","default":10},"ram":{"title":"Ram","type":"integer","default":10},"pod_name":{"title":"Pod Name","type":"string","default":""},"job_id":{"title":"Job Id","type":"string"}}},"Success":{"title":"Success","type":"object","properties":{"success":{"title":"Success","type":"string","default":"success message"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"}}}}